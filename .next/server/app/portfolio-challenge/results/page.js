(()=>{var e={};e.id=288,e.ids=[288],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5555:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>o.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>c}),i(8087),i(2029),i(5866);var r=i(3191),s=i(8716),a=i(7922),o=i.n(a),l=i(5231),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);i.d(t,n);let c=["",{children:["portfolio-challenge",{children:["results",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,8087)),"/Users/caseykemp/Downloads/The Invictus Collective/First-Principle/src/app/portfolio-challenge/results/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,2029)),"/Users/caseykemp/Downloads/The Invictus Collective/First-Principle/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,5866,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/caseykemp/Downloads/The Invictus Collective/First-Principle/src/app/portfolio-challenge/results/page.tsx"],d="/portfolio-challenge/results/page",p={require:i,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/portfolio-challenge/results/page",pathname:"/portfolio-challenge/results",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5946:(e,t,i)=>{Promise.resolve().then(i.bind(i,1536))},5047:(e,t,i)=>{"use strict";var r=i(7389);i.o(r,"useRouter")&&i.d(t,{useRouter:function(){return r.useRouter}}),i.o(r,"useSearchParams")&&i.d(t,{useSearchParams:function(){return r.useSearchParams}})},1536:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>m});var r=i(326),s=i(7577),a=i(434),o=i(5047),l=i(4191),n=i(58);function c(){let e=(0,o.useSearchParams)();(0,o.useRouter)();let t=e.get("level"),i=t?parseInt(t):null,{results:c,startLevel:m}=(0,l.g)(),x=i&&c[i],h=(0,s.useMemo)(()=>i&&x?function(e){let{regime:t,user:i,userAlloc:r,optimal:s,optimalAlloc:a}=e,o=s.totalR-i.totalR,l=a.eq-r.eq,n=a.fi-r.fi,c=a.struct-r.struct,u=s.maxDD-i.maxDD;switch(t.id){case 1:return function(e,t){let{userAlloc:i,optimalAlloc:r,user:s,optimal:a}=e,o=[],l="";if(i.fi>r.fi+.1||i.struct>r.struct+.15){let e=i.fi>r.fi+.1?"fixed income":"structured protection";o.push(`You overpaid for protection (excess ${e}) and gave up upside participation in a strong market.`)}return null!==i.equityNote.cap&&null===r.equityNote.cap?o.push(`Your structured equity leg was capped at ${(100*i.equityNote.cap).toFixed(0)}%, truncating right-tail participation when uncapped exposure would have captured more upside.`):null!==i.equityNote.cap&&null!==r.equityNote.cap&&i.equityNote.cap<r.equityNote.cap&&o.push(`Your structured equity cap (${(100*i.equityNote.cap).toFixed(0)}%) was too tight relative to optimal (${(100*r.equityNote.cap).toFixed(0)}%), limiting upside capture.`),i.eq<r.eq-.15&&o.push(`You ran ${(100*i.eq).toFixed(0)}% equity exposure versus ${(100*r.eq).toFixed(0)}% optimal; in a strong market, optimal maintained higher delta exposure while keeping drawdown budget controlled.`),i.struct>.2&&r.struct>.2&&i.equityNote.participation<r.equityNote.participation-.1&&o.push(`Optimal used higher participation (${(100*r.equityNote.participation).toFixed(0)}% vs ${(100*i.equityNote.participation).toFixed(0)}%) to capture more of the equity upside.`),l=r.eq>i.eq+.1?`Optimal maintained higher equity delta (${(100*r.eq).toFixed(0)}% vs ${(100*i.eq).toFixed(0)}%) to capture upside while using structured buffers to control tail risk.`:r.struct>i.struct+.1&&null===r.equityNote.cap?"Optimal used uncapped structured equity exposure with higher participation to capture upside convexity while limiting downside.":"Optimal balanced equity exposure with defined-outcome structures, capturing upside while maintaining risk control.",0===o.length&&o.push(`Optimal allocation captured ${(100*t.gap).toFixed(1)} percentage points more return through better balance of upside participation and risk control.`),{headline:"Opportunity Missed: Upside Capture",bullets:o,optimalMechanism:l}}(e,{eqDiff:l,fiDiff:n,structDiff:c,ddDiff:u,gap:o});case 2:return function(e,t){let{userAlloc:i,optimalAlloc:r,user:s,optimal:a}=e,o=[];if(i.eq>r.eq+.2&&i.struct<r.struct-.15&&o.push(`You held ${(100*i.eq).toFixed(0)}% unhedged equity exposure into a mild drawdown; optimal used ${(100*r.struct).toFixed(0)}% structured buffer exposure, converting small losses into flat outcomes.`),i.struct>.2&&r.struct>i.struct+.1){let t=i.equityNote.buffer;r.equityNote.buffer,e.regime.equityReturn>=-t&&e.regime.equityReturn<-.02&&o.push(`In a -${(100*Math.abs(e.regime.equityReturn)).toFixed(0)}% drawdown, optimal increased buffer exposure (${(100*r.struct).toFixed(0)}% vs ${(100*i.struct).toFixed(0)}%) to convert losses into flat outcomes.`)}if(i.struct>.1&&r.struct>i.struct&&r.structSplitEquityNote<i.structSplitEquityNote-.2){let e=i.struct*(1-i.structSplitEquityNote);r.struct,r.structSplitEquityNote,o.push(`You underutilized carry (${(100*e).toFixed(0)}% income note exposure); optimal harvested ${(100*a.income).toFixed(2)}% income via structured notes when drawdown remained above barrier, capturing yield without taking barrier risk.`)}if(i.struct>.2&&i.structSplitEquityNote<.5){let t=i.incomeNote.barrier,s=r.incomeNote.barrier;-e.regime.equityReturn<1-t&&s>t+.05&&o.push(`Optimal increased defined-outcome exposure with higher barrier protection (${(100*s).toFixed(0)}% vs ${(100*t).toFixed(0)}%), reducing loss while preserving reinvestment flexibility.`)}return 0===o.length&&o.push(`Optimal allocation reduced loss by ${(100*Math.abs(t.ddDiff)).toFixed(1)} percentage points through better use of buffer structures and defined-outcome exposure in a mild drawdown environment.`),{headline:"Opportunity Missed: Mild Drawdown Management",bullets:o,optimalMechanism:r.struct>i.struct+.15?`Optimal increased defined-outcome exposure (${(100*r.struct).toFixed(0)}% vs ${(100*i.struct).toFixed(0)}%), using buffers to convert small losses into flat outcomes while harvesting carry.`:"Optimal balanced buffer protection with carry generation, reducing drawdown while maintaining income."}}(e,{eqDiff:l,fiDiff:n,structDiff:c,ddDiff:u,gap:o});case 3:return function(e,t){let{userAlloc:i,optimalAlloc:r,user:s,optimal:a}=e,o=[];if(i.eq>.3&&i.fi>.3&&i.struct<.2&&o.push(`Diversification failed: your ${(100*i.eq).toFixed(0)}% equity + ${(100*i.fi).toFixed(0)}% fixed income mix suffered correlation convergence (both declined); naive EQ+FI diversification didn't control tail loss in extreme stress.`),i.struct>.2&&i.structSplitEquityNote<.6){let t=i.incomeNote.barrier,s=-e.regime.equityReturn;s>=1-t&&(r.incomeNote.barrier>t+.05||r.structSplitEquityNote>i.structSplitEquityNote+.2?o.push(`Your income note exposure (${(100*t).toFixed(0)}% barrier) was breached in a -${(100*s).toFixed(0)}% drawdown; once breached, principal participates in the drawdown. Optimal reduced barrier risk or shifted to equity-linked structures.`):o.push(`Your income note barrier (${(100*t).toFixed(0)}%) was breached; optimal reduced structured concentration or used higher barriers to limit principal exposure.`))}if(i.struct>r.struct+.15&&i.structSplitEquityNote<.5&&o.push(`You over-concentrated in structured notes (${(100*i.struct).toFixed(0)}% vs ${(100*r.struct).toFixed(0)}% optimal), with too much exposure to coupon-paying structures that took principal hits when barriers breached.`),i.struct>.2&&i.structSplitEquityNote<r.structSplitEquityNote-.2&&o.push(`Optimal shifted from 'coupon-first' to 'principal-first': used higher buffer equity-linked exposure (${(r.struct*r.structSplitEquityNote*100).toFixed(0)}% vs ${(i.struct*i.structSplitEquityNote*100).toFixed(0)}%) with lower barrier risk, preserving capital more effectively.`),i.struct>.2&&r.struct>.2){let e=i.equityNote.buffer,t=r.equityNote.buffer;t>e+.05&&o.push(`Optimal used larger buffers (${(100*t).toFixed(0)}% vs ${(100*e).toFixed(0)}%) to better protect principal in extreme stress.`)}return 0===o.length&&o.push(`Optimal allocation preserved ${(100*Math.abs(t.ddDiff)).toFixed(1)} percentage points more capital through better structured outcome design and reduced barrier breach risk.`),{headline:"Opportunity Missed: Tail Risk Control",bullets:o,optimalMechanism:r.struct>i.struct+.1?`Optimal increased buffer-protected exposure (${(100*r.struct).toFixed(0)}% vs ${(100*i.struct).toFixed(0)}%) with higher barriers and lower concentration, preserving capital when correlations break.`:r.structSplitEquityNote>i.structSplitEquityNote+.2?"Optimal shifted to principal-first structures (higher buffer equity-linked exposure) rather than coupon-first (income notes), better protecting capital in tail scenarios.":"Optimal used disciplined structured exposure with appropriate barriers and buffers to control tail risk when diversification fails."}}(e,{eqDiff:l,fiDiff:n,structDiff:c,ddDiff:u,gap:o});default:return{headline:"Opportunity Missed",bullets:["The optimal portfolio found a more efficient allocation."]}}}(x):{headline:"Opportunity Missed",bullets:[],optimalMechanism:void 0},[i,x]);if(!i||!x)return r.jsx("main",{className:"min-h-screen bg-black text-white grid place-items-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-white/60 mb-4",children:"No results found"}),r.jsx(a.default,{href:"/portfolio-challenge/game",className:"text-white underline hover:text-white/80",children:"Return to game"})]})});let{regime:f,user:b,userAlloc:g,optimal:y,optimalAlloc:w,userPortfolioOutcomeScore:v,optimalPortfolioOutcomeScore:N,displayedOptimalPortfolioOutcomeScore:j}=x,q=j-v,F=q<=.5,$=i<3?i+1:null;return r.jsx("main",{className:"min-h-screen bg-black text-white px-6 py-10",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8",children:[(0,r.jsxs)("div",{className:"text-white/50 text-sm uppercase tracking-widest mb-1",children:["Level ",i," Results"]}),r.jsx("h1",{className:"text-4xl font-semibold mb-2",children:f.name}),r.jsx("div",{className:"text-xl text-white/70",children:f.subtitle})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"rounded-2xl border border-white/10 bg-white/[0.02] backdrop-blur-sm p-6 flex flex-col items-center text-center",children:[r.jsx("div",{className:"text-white/70 text-lg font-medium mb-4",children:"Your Portfolio Outcome Score"}),r.jsx("div",{className:`text-5xl md:text-6xl font-semibold tabular-nums mb-8 flex-grow flex items-center justify-center ${v>=0?"text-white":"text-red-400"}`,children:p(v)}),(0,r.jsxs)("div",{className:"text-white/80 text-lg mt-auto font-semibold mb-2",children:["Max Drawdown: ",d(b.maxDD)]}),(0,r.jsxs)("div",{className:"text-white/80 text-lg font-semibold",children:["Income: ",d(b.income)]})]}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"rounded-2xl border border-white/10 bg-white/[0.02] backdrop-blur-sm p-6 flex flex-col items-center text-center",children:[r.jsx("div",{className:"text-white/70 text-lg font-medium mb-4",children:"First Principle-Optimized Portfolio Outcome Score"}),r.jsx("div",{className:`text-5xl md:text-6xl font-semibold tabular-nums mb-8 flex-grow flex items-center justify-center ${j>=0?"text-white":"text-red-400"}`,children:p(j)}),(0,r.jsxs)("div",{className:"text-white/80 text-lg mt-auto font-semibold mb-2",children:["Max Drawdown: ",d(y.maxDD)]}),(0,r.jsxs)("div",{className:"text-white/80 text-lg font-semibold",children:["Income: ",d(y.income)]})]}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"rounded-2xl border border-white/10 bg-white/[0.02] backdrop-blur-sm p-6 flex flex-col items-center text-center",children:[r.jsx("div",{className:"text-white/70 text-lg font-medium mb-4",children:"Opportunity Cost"}),r.jsx("div",{className:"text-5xl md:text-6xl font-semibold tabular-nums mb-8 flex-grow flex items-center justify-center text-amber-400",children:F?"Matched":`+${Math.max(0,q).toFixed(1)}`}),r.jsx("div",{className:"text-white/80 text-lg mt-auto font-semibold",children:F?"Matched Optimal":"Performance Gap"})]})]}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"rounded-2xl border border-white/10 bg-white/[0.02] backdrop-blur-sm p-8 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Allocation Comparison"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-white/60 text-sm mb-4",children:"Your Allocation"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx(u,{label:"Fixed Income",value:g.fi,color:"#3b82f6"}),r.jsx(u,{label:"Equities",value:g.eq,color:"#10b981"}),r.jsx(u,{label:"Structured",value:g.struct,color:"#f59e0b"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-white/60 text-sm mb-4",children:"Optimal Allocation"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx(u,{label:"Fixed Income",value:w.fi,color:"#3b82f6"}),r.jsx(u,{label:"Equities",value:w.eq,color:"#10b981"}),r.jsx(u,{label:"Structured",value:w.struct,color:"#f59e0b"})]})]})]})]}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"rounded-2xl border border-white/10 bg-white/[0.02] backdrop-blur-sm p-8 mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:h.headline}),r.jsx("ul",{className:"space-y-3 mb-6",children:h.bullets.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"text-white/40 mr-3 mt-1",children:"â€¢"}),r.jsx("span",{className:"text-white/80 leading-relaxed",children:e})]},t))}),h.optimalMechanism&&(0,r.jsxs)("div",{className:"mt-6 pt-6 border-t border-white/10",children:[r.jsx("div",{className:"text-white/60 text-sm uppercase tracking-wider mb-2",children:"Optimal Mechanism"}),r.jsx("p",{className:"text-white/90 leading-relaxed",children:h.optimalMechanism})]})]}),r.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"flex flex-col sm:flex-row gap-4",children:$?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.default,{href:"/portfolio-challenge/game",onClick:()=>m($),className:"flex-1 rounded-xl bg-white text-black px-8 py-4 font-medium hover:bg-white/90 transition-colors text-center",children:["Continue to Level ",$]}),r.jsx(a.default,{href:"/portfolio-challenge",className:"rounded-xl border border-white/20 px-8 py-4 text-white/80 hover:bg-white/5 transition-colors text-center",children:"Restart Later"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(a.default,{href:"/portfolio-challenge/reveal",className:"flex-1 rounded-xl bg-white text-black px-8 py-4 font-medium hover:bg-white/90 transition-colors text-center",children:"See the Reveal"}),r.jsx(a.default,{href:"/portfolio-challenge",className:"rounded-xl border border-white/20 px-8 py-4 text-white/80 hover:bg-white/5 transition-colors text-center",children:"Restart"})]})})]})})}function u({label:e,value:t,color:i}){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[r.jsx("span",{className:"text-sm text-white/80",children:e}),r.jsx("span",{className:"text-sm tabular-nums text-white/60",children:d(t)})]}),r.jsx("div",{className:"h-2 bg-white/10 rounded-full overflow-hidden",children:r.jsx(n.E.div,{initial:{width:0},animate:{width:`${100*t}%`},transition:{duration:.5,ease:"easeOut"},style:{backgroundColor:i},className:"h-full"})})]})}function d(e){let t=100*e;return`${t>=0?"+":""}${t.toFixed(1)}%`}function p(e){return`${e>=0?"+":""}${e.toFixed(1)}`}function m(){return r.jsx(s.Suspense,{fallback:r.jsx("main",{className:"min-h-screen bg-black text-white grid place-items-center",children:r.jsx("div",{className:"text-center",children:r.jsx("p",{className:"text-white/60",children:"Loading results..."})})}),children:r.jsx(c,{})})}},8087:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let r=(0,i(8570).createProxy)(String.raw`/Users/caseykemp/Downloads/The Invictus Collective/First-Principle/src/app/portfolio-challenge/results/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[819,58,434,30],()=>i(5555));module.exports=r})();